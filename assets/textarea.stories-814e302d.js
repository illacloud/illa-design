import{j as R,a as h}from"./emotion-react-jsx-runtime.browser.esm-1facf72c.js";import{r as T}from"./index-1cdf6ce0.js";import{t as D,c as F,d as $,l as Y,i as G,m as K,j as X}from"./style-aedf7f23.js";import{f as j,d as U}from"./is-47f46886.js";import{u as J}from"./use-isomorphic-effect-1eadbd01.js";import{m as Q}from"./merge-ref-e0695ca7.js";import{u as W}from"./use-merge-value-fcf53e13.js";import{a as Z,d as ee}from"./style-4011d251.js";import{g as te}from"./color-palette-2f9095e4.js";import{C as ae}from"./clear-c3d7638a.js";import"./emotion-use-insertion-effect-with-fallbacks.browser.esm-d9790902.js";import"./z-index-efffafd0.js";import"./is-browser-3ff01602.js";import"./use-previous-5c929b6e.js";import"./index-45a08ae3.js";import"./create-icon-e804097a.js";const re=`
  position: absolute;
  min-height: 0 !important;
  max-height: none;
  height:0;
  visibility: hidden;
  z-index: -100;
  top: 0;
  right: 0;
`,le=["border-width","box-sizing","font-family","font-weight","font-size","font-variant","letter-spacing","line-height","padding-top","padding-bottom","padding-left","padding-right","text-indent","text-rendering","text-transform","width"];let p;function ne(e){p||(p=document.createElement("textarea"),document.body.appendChild(p));const i=window.getComputedStyle(e),y=`
    ${le.map(u=>`${u}:${i.getPropertyValue(u)}`).join(";")}
  `;p.setAttribute("style",`${re}${y}`);const l=parseFloat(i.getPropertyValue("padding-top"))+parseFloat(i.getPropertyValue("padding-bottom")),s=i.getPropertyValue("box-sizing"),f=parseFloat(i.getPropertyValue("border-top-width"))+parseFloat(i.getPropertyValue("border-bottom-width"));return{paddingSize:l,boxSizing:s,borderSize:f}}function ie(e,i){const y=()=>{let l,s;return U(e)&&(l=e.minRows,s=e.maxRows),{minRows:l,maxRows:s}};if(e){const{minRows:l,maxRows:s}=y(),f=i,{paddingSize:u,boxSizing:x,borderSize:V}=ne(f);p.value=f.value||f.placeholder||"";let c=p.scrollHeight+V,o,d,n;if(l||s){p.value="";const b=p.scrollHeight-u;j(l)&&(o=b*l,x==="border-box"&&(o+=u,o+=V),c=Math.max(c,o)),j(s)&&(d=b*s,x==="border-box"&&(d+=u,d+=V),n=c>d?"auto":"",d=Math.min(c,d))}const r={};return r.height=c,o&&(r.minHeight=o),d&&(r.maxHeight=d),n&&(r.overflowY=n),r}}const g=T.forwardRef((e,i)=>{const{variant:y="outline",colorScheme:l="blue",textAreaRef:s,allowClear:f,disabled:u,error:x,defaultValue:V,placeholder:c,value:o,autoSize:d,maxLength:n,onChange:r,onClear:b,onPressEnter:v,readOnly:z,bdRadius:S,showWordLimit:B,...L}=e;let t=(S==null?void 0:S.split(""))??["8px","8px","8px","8px"];t.length==2?t=[t[0],t[1],t[0],t[1]]:t.length==3&&(t=[t[0],t[1],t[2],t[1]]);const[A,C]=W(!1,{defaultValue:!1,value:x}),[m,H]=W("",{defaultValue:V,value:o}),q=n?typeof n=="number"?n:n.length:void 0,E=n?typeof n=="number"?!1:n.errorOnly:void 0,_=T.useRef(),[M,N]=T.useState({}),k=()=>{const a=ie(e.autoSize,_.current);a&&N(a)};return J(()=>{k()},[m]),R("div",{ref:i,css:[D,Z(L)],...ee(L),children:[h("textarea",{disabled:u,ref:Q(_,s),value:m,style:M,maxLength:E?void 0:q,onChange:a=>{r==null||r(a.target.value,a),q&&a.target.value.length>q?E&&x===void 0&&C(!0):x===void 0&&C(!1),o===void 0&&H(a.target.value)},readOnly:z,placeholder:c,onKeyDown:a=>{a.key==="Enter"&&v&&(v==null||v(a),a.preventDefault())},css:[u?F("medium",y,l,A,!1,!1,t):$("medium",y,l,A,!1,!1,t),Y]}),f&&!z&&!u&&m&&(m==null?void 0:m.length)>0&&h(ae,{className:"clear",onClick:a=>{b==null||b(),o===void 0&&H(""),r==null||r("",a)},pos:"absolute",posT:"10px",posR:"5px",cursor:"pointer",fs:"12px",ml:"4px",z:3,c:te("grayBlue","06")}),B&&R("span",{css:[G("medium"),K],children:[h("span",{css:X(A),children:(m==null?void 0:m.length)??0}),`${q!==void 0?"/"+q:""}`]})]})});g.displayName="TextArea";try{g.displayName="TextArea",g.__docgenInfo={description:"",displayName:"TextArea",props:{textAreaRef:{defaultValue:null,description:"",name:"textAreaRef",required:!1,type:{name:"Ref<HTMLTextAreaElement>"}},colorScheme:{defaultValue:null,description:"",name:"colorScheme",required:!1,type:{name:"string"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!1,type:{name:"boolean"}},variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"fill"'},{value:'"outline"'}]}},allowClear:{defaultValue:null,description:"",name:"allowClear",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"boolean"}},showWordLimit:{defaultValue:null,description:"",name:"showWordLimit",required:!1,type:{name:"boolean"}},defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!1,type:{name:"string"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string"}},autoSize:{defaultValue:null,description:"",name:"autoSize",required:!1,type:{name:"boolean | { minRows?: number; maxRows?: number; }"}},maxLength:{defaultValue:null,description:"",name:"maxLength",required:!1,type:{name:"number | { length: number; errorOnly?: boolean; }"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"(value: string, e: SyntheticEvent<Element, Event>) => void"}},onClear:{defaultValue:null,description:"",name:"onClear",required:!1,type:{name:"() => void"}},onPressEnter:{defaultValue:null,description:"",name:"onPressEnter",required:!1,type:{name:"(e: KeyboardEvent<HTMLTextAreaElement>) => void"}},w:{defaultValue:null,description:"width",name:"w",required:!1,type:{name:"string"}},maxW:{defaultValue:null,description:"max-width",name:"maxW",required:!1,type:{name:"string"}},minW:{defaultValue:null,description:"min-width",name:"minW",required:!1,type:{name:"string"}},h:{defaultValue:null,description:"height",name:"h",required:!1,type:{name:"string"}},maxH:{defaultValue:null,description:"max-height",name:"maxH",required:!1,type:{name:"string"}},minH:{defaultValue:null,description:"min-height",name:"minH",required:!1,type:{name:"string"}},pd:{defaultValue:null,description:"padding",name:"pd",required:!1,type:{name:"string"}},pt:{defaultValue:null,description:"padding-top",name:"pt",required:!1,type:{name:"string"}},pb:{defaultValue:null,description:"padding-bottom",name:"pb",required:!1,type:{name:"string"}},pl:{defaultValue:null,description:"padding-left",name:"pl",required:!1,type:{name:"string"}},pr:{defaultValue:null,description:"padding-right",name:"pr",required:!1,type:{name:"string"}},mg:{defaultValue:null,description:"margin",name:"mg",required:!1,type:{name:"string"}},ml:{defaultValue:null,description:"margin-left",name:"ml",required:!1,type:{name:"string"}},mr:{defaultValue:null,description:"margin-right",name:"mr",required:!1,type:{name:"string"}},mt:{defaultValue:null,description:"margin-top",name:"mt",required:!1,type:{name:"string"}},mb:{defaultValue:null,description:"margin-bottom",name:"mb",required:!1,type:{name:"string"}},bd:{defaultValue:null,description:"border",name:"bd",required:!1,type:{name:"string"}},bdRadius:{defaultValue:null,description:"border-radius",name:"bdRadius",required:!1,type:{name:"string"}},bt:{defaultValue:null,description:"border-top",name:"bt",required:!1,type:{name:"string"}},bl:{defaultValue:null,description:"border-left",name:"bl",required:!1,type:{name:"string"}},bb:{defaultValue:null,description:"border-bottom",name:"bb",required:!1,type:{name:"string"}},br:{defaultValue:null,description:"border-right",name:"br",required:!1,type:{name:"string"}},bg:{defaultValue:null,description:"background",name:"bg",required:!1,type:{name:"string"}},bdColor:{defaultValue:null,description:"border-color",name:"bdColor",required:!1,type:{name:"string"}},bgColor:{defaultValue:null,description:"background-color",name:"bgColor",required:!1,type:{name:"string"}},c:{defaultValue:null,description:"color",name:"c",required:!1,type:{name:"string"}},opac:{defaultValue:null,description:"opacity",name:"opac",required:!1,type:{name:"number"}},pos:{defaultValue:null,description:"",name:"pos",required:!1,type:{name:"enum",value:[{value:'"absolute"'},{value:'"relative"'},{value:'"fixed"'},{value:'"static"'}]}},posT:{defaultValue:null,description:"",name:"posT",required:!1,type:{name:"string"}},posL:{defaultValue:null,description:"",name:"posL",required:!1,type:{name:"string"}},posB:{defaultValue:null,description:"",name:"posB",required:!1,type:{name:"string"}},posR:{defaultValue:null,description:"",name:"posR",required:!1,type:{name:"string"}},z:{defaultValue:null,description:"",name:"z",required:!1,type:{name:"string | number"}},ov:{defaultValue:null,description:"over-flow,over-flow-x,over-flow-y",name:"ov",required:!1,type:{name:"string"}},ovX:{defaultValue:null,description:"",name:"ovX",required:!1,type:{name:"string"}},ovY:{defaultValue:null,description:"",name:"ovY",required:!1,type:{name:"string"}},v:{defaultValue:null,description:"visibility",name:"v",required:!1,type:{name:"string"}},disp:{defaultValue:null,description:"",name:"disp",required:!1,type:{name:"string"}},alignItems:{defaultValue:null,description:"",name:"alignItems",required:!1,type:{name:"string"}},alignContent:{defaultValue:null,description:"",name:"alignContent",required:!1,type:{name:"string"}},justifyItems:{defaultValue:null,description:"",name:"justifyItems",required:!1,type:{name:"string"}},justifyContent:{defaultValue:null,description:"",name:"justifyContent",required:!1,type:{name:"string"}},flexWrap:{defaultValue:null,description:"",name:"flexWrap",required:!1,type:{name:"string"}},flexDirection:{defaultValue:null,description:"",name:"flexDirection",required:!1,type:{name:"string"}},flex:{defaultValue:null,description:"",name:"flex",required:!1,type:{name:"string"}},flexGrow:{defaultValue:null,description:"",name:"flexGrow",required:!1,type:{name:"string"}},flexShrink:{defaultValue:null,description:"",name:"flexShrink",required:!1,type:{name:"string"}},flexBasis:{defaultValue:null,description:"",name:"flexBasis",required:!1,type:{name:"string"}},justifySelf:{defaultValue:null,description:"",name:"justifySelf",required:!1,type:{name:"string"}},alignSelf:{defaultValue:null,description:"",name:"alignSelf",required:!1,type:{name:"string"}},o:{defaultValue:null,description:"order",name:"o",required:!1,type:{name:"string"}},_css:{defaultValue:null,description:"",name:"_css",required:!1,type:{name:"SerializedStyles"}},fs:{defaultValue:null,description:"font-size",name:"fs",required:!1,type:{name:"string"}},ff:{defaultValue:null,description:"font-family",name:"ff",required:!1,type:{name:"string"}},fw:{defaultValue:null,description:"font-weight",name:"fw",required:!1,type:{name:"string"}},cur:{defaultValue:null,description:"",name:"cur",required:!1,type:{name:"string"}},l:{defaultValue:null,description:"",name:"l",required:!1,type:{name:"string | number"}},t:{defaultValue:null,description:"",name:"t",required:!1,type:{name:"string | number"}},r:{defaultValue:null,description:"",name:"r",required:!1,type:{name:"string | number"}},b:{defaultValue:null,description:"",name:"b",required:!1,type:{name:"string | number"}}}}}catch{}const we={title:"DATA INPUT/Textarea",component:g},w=e=>R("div",{children:[h(g,{w:"320px",...e}),h(g,{mt:"12px",showWordLimit:!0,maxLength:{length:20,errorOnly:!0},...e}),h(g,{w:"120px",autoSize:{minRows:2,maxRows:4},...e})]});var I,O,P;w.parameters={...w.parameters,docs:{...(I=w.parameters)==null?void 0:I.docs,source:{originalSource:`props => {
  return <div>
      <TextArea w="320px" {...props} />
      <TextArea mt="12px" showWordLimit={true} maxLength={{
      length: 20,
      errorOnly: true
    }} {...props} />
      <TextArea w="120px" autoSize={{
      minRows: 2,
      maxRows: 4
    }} {...props} />
    </div>;
}`,...(P=(O=w.parameters)==null?void 0:O.docs)==null?void 0:P.source}}};const Se=["Basic"];export{w as Basic,Se as __namedExportsOrder,we as default};
//# sourceMappingURL=textarea.stories-814e302d.js.map
