{"version":3,"file":"switch-dbe133e3.js","sources":["../../../../packages/switch/src/style.ts","../../../../packages/switch/src/switch.tsx"],"sourcesContent":["import {\n  getSpecialThemeColor,\n  globalColor,\n  illaPrefix,\n} from \"@illa-design/theme\"\nimport { css, SerializedStyles } from \"@emotion/react\"\nimport { SwitchColorScheme, SwitchSize } from \"./interface\"\n\nconst innerColor = [\n  \"white\",\n  \"blackAlpha\",\n  \"gray\",\n  \"red\",\n  \"orange\",\n  \"yellow\",\n  \"green\",\n  \"blue\",\n  \"cyan\",\n  \"purple\",\n  \"grayBlue\",\n  \"techPurple\",\n  \"techPink\",\n]\n\nexport function applySwitch(\n  colorScheme: SwitchColorScheme,\n  checked: boolean,\n  size: SwitchSize,\n): SerializedStyles {\n  const minWidth = size === \"medium\" ? \"26px\" : \"40px\"\n  const height = size === \"medium\" ? \"16px\" : \"24px\"\n  const isInnerColor: boolean = innerColor.indexOf(colorScheme) > -1\n  let bgc = checked\n    ? isInnerColor\n      ? getSpecialThemeColor(colorScheme)\n      : colorScheme\n    : globalColor(`--${illaPrefix}-grayBlue-06`)\n  return css`\n    position: relative;\n    border-radius: 16px;\n    min-width: ${minWidth};\n    height: ${height};\n    line-height: ${height};\n    background-color: ${bgc};\n    color: ${bgc};\n    vertical-align: middle;\n    cursor: pointer;\n    box-sizing: border-box;\n    border: none;\n    overflow: hidden;\n    padding: 0;\n    outline: none;\n    transition: background-color 0.2s ease-in-out;\n    &:disabled {\n      cursor: not-allowed;\n      background-color: ${isInnerColor && checked\n        ? globalColor(`--${illaPrefix}-${colorScheme}-07`)\n        : globalColor(`--${illaPrefix}-grayBlue-08`)};\n      color: ${isInnerColor && checked\n        ? globalColor(`--${illaPrefix}-${colorScheme}-07`)\n        : globalColor(`--${illaPrefix}-grayBlue-08`)};\n    }\n  `\n}\n\nexport function applySwitchDot(\n  size: SwitchSize,\n  checked: boolean,\n  disabled: boolean,\n): SerializedStyles {\n  const dotSize = size === \"medium\" ? \"12px\" : \"16px\"\n  const dotSpacing = size === \"medium\" ? \"2px\" : \"4px\"\n  const dotPosition = checked\n    ? `\n        left: 100%;\n        margin-left: -${dotSpacing};\n        transform:translateX(-100%)\n      `\n    : `left:${dotSpacing}`\n  const dotShadow = disabled\n    ? \"\"\n    : `box-shadow:0 1px 2px ${globalColor(`--${illaPrefix}-blackAlpha-05`)}`\n  return css`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 12px;\n    position: absolute;\n    top: ${dotSpacing};\n    ${dotPosition};\n    width: ${dotSize};\n    height: ${dotSize};\n    border-radius: 50%;\n    ${dotShadow};\n    background-color: ${globalColor(`--${illaPrefix}-white-01`)};\n    transition: all 0.2s ease-in-out;\n  `\n}\n\nexport function applySwitchText(\n  checked: boolean,\n  size: SwitchSize,\n): SerializedStyles {\n  const textSize =\n    size === \"medium\"\n      ? `\n          font-size: 12px;\n          line-height: 1\n        `\n      : `\n          font-size:14px;\n          line-height: 1.14\n        `\n  const spacingShort = size === \"medium\" ? 6 : 8\n  const spacingLong = size === \"medium\" ? 19 : 26\n  const textMargin = checked\n    ? `margin:0 ${spacingLong}px 0 ${spacingShort}px`\n    : `margin:0 ${spacingShort}px 0 ${spacingLong}px`\n  return css`\n    color: ${globalColor(`--${illaPrefix}-white-01`)};\n    ${textSize};\n    ${textMargin};\n    white-space: pre;\n    transition: margin 0.2s;\n  `\n}\n\nexport const applySwitchIcon = css`\n  width: 8px;\n  height: 8px;\n  font-size: 8px;\n  line-height: 6px;\n  overflow: hidden;\n`\n","import { forwardRef, MouseEventHandler, useState } from \"react\"\nimport { SwitchProps } from \"./interface\"\nimport {\n  applySwitch,\n  applySwitchDot,\n  applySwitchText,\n  applySwitchIcon,\n} from \"./style\"\nimport { isObject } from \"@illa-design/system\"\nimport { applyBoxStyle, deleteCssProps } from \"@illa-design/theme\"\n\nexport const Switch = forwardRef<HTMLButtonElement, SwitchProps>(\n  (props, ref) => {\n    const {\n      colorScheme = \"blue\",\n      disabled,\n      size = \"medium\",\n      checkedText = \"\",\n      uncheckedText = \"\",\n      checkedIcon,\n      uncheckedIcon,\n      checked: propsChecked,\n      defaultChecked,\n      onChange,\n      onClick,\n      ...restProps\n    } = props\n\n    const [checked, setChecked] = useState<boolean>(defaultChecked ?? false)\n    const mergedChecked = propsChecked !== void 0 ? propsChecked : checked\n\n    const onHandleClick: MouseEventHandler<HTMLButtonElement> = (event) => {\n      if (propsChecked === void 0) {\n        setChecked(!mergedChecked)\n      }\n      onChange && onChange(!mergedChecked, event)\n      onClick && onClick(event)\n    }\n\n    const renderText = mergedChecked ? checkedText : uncheckedText\n\n    return (\n      <button\n        css={[\n          applySwitch(colorScheme, mergedChecked, size),\n          applyBoxStyle(props),\n        ]}\n        ref={ref}\n        onClick={onHandleClick}\n        disabled={disabled}\n        type=\"button\"\n        {...deleteCssProps(restProps)}\n      >\n        <div css={applySwitchDot(size, mergedChecked, disabled ?? false)}>\n          {(checkedIcon || uncheckedIcon) && (\n            <div css={applySwitchIcon}>\n              {mergedChecked ? checkedIcon : uncheckedIcon}\n            </div>\n          )}\n        </div>\n        <div css={applySwitchText(mergedChecked, size)}>\n          {isObject(renderText) ? (\n            <div css={applySwitchIcon}>{renderText}</div>\n          ) : (\n            renderText\n          )}\n        </div>\n      </button>\n    )\n  },\n)\n\nSwitch.displayName = \"Switch\"\n"],"names":["innerColor","applySwitch","colorScheme","checked","size","minWidth","height","isInnerColor","bgc","getSpecialThemeColor","globalColor","illaPrefix","css","applySwitchDot","disabled","dotSize","dotSpacing","dotPosition","dotShadow","applySwitchText","textSize","spacingShort","spacingLong","textMargin","applySwitchIcon","Switch","forwardRef","props","ref","checkedText","uncheckedText","checkedIcon","uncheckedIcon","propsChecked","defaultChecked","onChange","onClick","restProps","setChecked","useState","mergedChecked","onHandleClick","event","renderText","jsxs","applyBoxStyle","deleteCssProps","jsx","isObject"],"mappings":"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"}