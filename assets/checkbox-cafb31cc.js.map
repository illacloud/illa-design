{"version":3,"file":"checkbox-cafb31cc.js","sources":["../../../../packages/checkbox/src/style.ts","../../../../packages/checkbox/src/context.ts","../../../../packages/checkbox/src/checkbox.tsx"],"sourcesContent":["import {\n  getColor,\n  getSpecialThemeColor,\n  globalColor,\n  illaPrefix,\n} from \"@illa-design/theme\"\nimport { CheckboxColorScheme, CheckboxProps } from \"./interface\"\nimport { css, SerializedStyles } from \"@emotion/react\"\n\nexport function applyCheckboxSize(\n  checked?: boolean,\n  colorScheme: CheckboxColorScheme = \"blue\",\n) {\n  let checkedCss = css()\n  if (checked) {\n    checkedCss = css`\n      border-color: transparent;\n      background-color: ${getSpecialThemeColor(colorScheme)};\n\n      &:hover {\n        background-color: ${getColor(colorScheme, \"04\")};\n      }\n\n      &:disabled {\n        background-color: ${getColor(colorScheme, \"07\")};\n      }\n    `\n  }\n  return css`\n    position: relative;\n    appearance: none;\n    border-radius: 2px;\n    margin: auto;\n    width: 16px;\n    height: 16px;\n    border: solid 2px ${globalColor(`--${illaPrefix}-grayBlue-08`)};\n    cursor: pointer;\n    transition: 0.15s all linear;\n\n    &:hover {\n      border-color: ${getColor(colorScheme, \"07\")};\n    }\n\n    &:disabled {\n      cursor: not-allowed;\n      border-color: ${globalColor(`--${illaPrefix}-grayBlue-08`)};\n      background-color: ${globalColor(`--${illaPrefix}-grayBlue-09`)};\n    }\n\n    ${checkedCss}\n  `\n}\n\nexport function applyCheckState(checked: boolean) {\n  return css`\n    position: absolute;\n    left: 0;\n    width: 16px;\n    height: 8px;\n    transform: ${checked ? \"scale(1);\" : \"scale(0);\"};\n    color: white;\n    transition: 0.15s all linear;\n    pointer-events: none;\n  `\n}\n\nexport function applyMergeCss(props: CheckboxProps): SerializedStyles {\n  const currentDisabled = props.disabled ?? false\n\n  return css`\n    position: relative;\n    display: inline-flex;\n    overflow: hidden;\n    word-wrap: break-word;\n    white-space: nowrap;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n    font-size: 14px;\n    line-height: 22px;\n    color: ${globalColor(`--${illaPrefix}-grayBlue-02`)};\n    cursor: ${currentDisabled ? \"not-allowed\" : \"pointer\"};\n  `\n}\n\nexport function applyCheckboxContainerHorizontal(\n  spacing: string | number,\n): SerializedStyles {\n  const currentSpacing = typeof spacing === \"string\" ? spacing : `${spacing}px`\n\n  return css`\n    display: inline-flex;\n    vertical-align: middle;\n    flex-direction: row;\n    align-items: center;\n    flex-wrap: wrap;\n    gap: 6px ${currentSpacing};\n    margin-right: ${currentSpacing};\n  `\n}\n\nexport function applyCheckboxContainerVertical(\n  spacing: string | number,\n): SerializedStyles {\n  const currentSpacing = typeof spacing === \"string\" ? spacing : `${spacing}px`\n\n  return css`\n    display: inline-flex;\n    vertical-align: middle;\n    flex-direction: column;\n    align-items: flex-start;\n    gap: ${currentSpacing};\n    margin-bottom: ${currentSpacing};\n  `\n}\n\nexport const childrenContainerCss = css`\n  margin-left: 8px;\n`\n","import { createContext } from \"react\"\nimport { CheckboxGroupProps } from \"./interface\"\n\nexport const CheckboxGroupContext = createContext<CheckboxGroupProps>({})\n\nCheckboxGroupContext.displayName = \"CheckboxGroupContext\"\n","import { ChangeEvent, forwardRef, useContext } from \"react\"\nimport { useMergeValue } from \"@illa-design/system\"\nimport { ReduceIcon, SuccessIcon } from \"@illa-design/icon\"\nimport { CheckboxOption, CheckboxProps } from \"./interface\"\nimport {\n  applyCheckboxSize,\n  applyCheckState,\n  applyMergeCss,\n  childrenContainerCss,\n} from \"./style\"\nimport { CheckboxGroupContext } from \"./context\"\nimport { applyBoxStyle, deleteCssProps } from \"@illa-design/theme\"\n\nexport const Checkbox = forwardRef<HTMLLabelElement, CheckboxProps>(\n  (props, ref) => {\n    const {\n      value,\n      disabled,\n      checked,\n      defaultChecked,\n      indeterminate,\n      onChange,\n      colorScheme = \"blue\",\n      children,\n      ...otherProps\n    } = props\n\n    const context = useContext(CheckboxGroupContext)\n\n    const finalChecked =\n      checked ?? context.value?.some((item) => item === value)\n    const finalDefaultChecked =\n      defaultChecked ?? context.defaultValue?.some((item) => item === value)\n\n    const [currentChecked, setCurrentChecked] = useMergeValue(false, {\n      value: finalChecked,\n      defaultValue: finalDefaultChecked,\n    })\n\n    return (\n      <label\n        css={[applyMergeCss(props), applyBoxStyle(props)]}\n        ref={ref}\n        {...deleteCssProps(otherProps)}\n      >\n        <input\n          type=\"checkbox\"\n          css={applyCheckboxSize(currentChecked || indeterminate, colorScheme)}\n          value={\n            typeof value === \"object\" ? (value as CheckboxOption).value : value\n          }\n          checked={currentChecked}\n          disabled={disabled}\n          onChange={(e: ChangeEvent<HTMLInputElement>) => {\n            if (checked === undefined) {\n              setCurrentChecked(e.target.checked)\n            }\n            onChange?.(e.target.checked, e)\n          }}\n        />\n        {indeterminate ? (\n          <ReduceIcon css={applyCheckState(true)} />\n        ) : (\n          <SuccessIcon css={applyCheckState(currentChecked)} />\n        )}\n        {children && <span css={childrenContainerCss}> {children}</span>}\n      </label>\n    )\n  },\n)\n\nCheckbox.displayName = \"Checkbox\"\n"],"names":["applyCheckboxSize","checked","colorScheme","checkedCss","css","getSpecialThemeColor","getColor","globalColor","illaPrefix","applyCheckState","applyMergeCss","props","currentDisabled","applyCheckboxContainerHorizontal","spacing","currentSpacing","applyCheckboxContainerVertical","childrenContainerCss","CheckboxGroupContext","createContext","Checkbox","forwardRef","ref","value","disabled","defaultChecked","indeterminate","onChange","children","otherProps","context","useContext","finalChecked","_a","item","finalDefaultChecked","_b","currentChecked","setCurrentChecked","useMergeValue","jsxs","applyBoxStyle","deleteCssProps","jsx","e","ReduceIcon","SuccessIcon"],"mappings":"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"}