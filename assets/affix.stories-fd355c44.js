import{j as f,a as n,F as I}from"./emotion-react-jsx-runtime.browser.esm-1facf72c.js";import{r as t}from"./index-1cdf6ce0.js";import{c as w,a as te,d as ne}from"./style-4011d251.js";import{u as F}from"./web-cc1a3eed.js";import{t as re}from"./throttle-by-raf-4c5db3cf.js";import{c as R}from"./is-47f46886.js";import{B as S}from"./button-group-context-9000c136.js";import{u as ie}from"./hook-36941598.js";import"./emotion-use-insertion-effect-with-fallbacks.browser.esm-d9790902.js";import"./color-palette-83e58897.js";import"./index-45a08ae3.js";import"./loading-9fdd5a3f.js";import"./create-icon-e804097a.js";import"./v4-cf522c50.js";var ae=typeof window<"u",le=ae?t.useLayoutEffect:t.useEffect;const se=le;function oe(e){return w`
    position: fixed;
    ${e.type}: ${e.offset}px
  `}function M(e,o){return w`
    width: ${e}px;
    height: ${o}px;
  `}function ue(e,o,u){return e.isFixed?w`
      ${oe(e.position)};
      ${M(o,u)}
    `:w``}function L(e){return e!==window?e.getBoundingClientRect():{top:0,bottom:window.innerHeight}}const s=t.forwardRef((e,o)=>{const{offsetTop:u=0,offsetBottom:x,target:m=()=>window,targetContainer:c,onChange:C,children:O,...P}=e,[G,T]=t.useState(1),[X,Y]=t.useState({type:"top",offset:0}),[h,U]=t.useState({width:0,height:0}),A=t.useRef(!0),d=t.useRef(null),a=t.useRef(null),q=t.useRef(!1),[J,K]=F(),[Q,Z]=F(),ee=r=>{J(r),a.current=r},l=re(()=>{A.current&&T(0)});return t.useImperativeHandle(o,()=>a==null?void 0:a.current,[]),t.useEffect(()=>(A.current=!0,()=>{A.current=!1}),[]),t.useEffect(()=>{l()},[u,x,m,c,l,K,Z]),t.useEffect(()=>{const r=["scroll","resize"];if(d.current=m&&R(m)?m():null,d.current)return r.forEach(p=>{var i;(i=d.current)==null||i.addEventListener(p,l)}),()=>{r.forEach(p=>{var i;(i=d.current)==null||i.removeEventListener(p,l)})}},[m,l]),t.useEffect(()=>{const r=c&&R(c)?c():null;if(d.current!==window&&r)return r.addEventListener("scroll",l),()=>{r.removeEventListener("scroll",l)}},[c,l]),se(()=>{if(G!==0||!d.current||!a.current)return;const r=x===void 0?"top":"bottom",p=L(a.current),i=L(d.current);let g,E;r==="top"?(g=p.top-i.top<(u||0),E=i.top+(u||0)):(g=i.bottom-p.bottom<(x||0),E=window.innerHeight-i.bottom+(x||0)),g!==q.current&&(q.current=g,C&&R(C)&&C(g)),T(1),Y({type:r,offset:E}),U({width:a.current.clientWidth,height:a.current.clientHeight})}),f("div",{ref:ee,css:te(e),...ne(P),children:[q.current&&n("div",{css:M(h.width,h.height)}),n("div",{css:ue({isFixed:q.current,position:X},h.width,h.height),ref:Q,children:O})]})});s.displayName="Affix";try{s.displayName="Affix",s.__docgenInfo={description:"",displayName:"Affix",props:{offsetTop:{defaultValue:null,description:"",name:"offsetTop",required:!1,type:{name:"number"}},offsetBottom:{defaultValue:null,description:"",name:"offsetBottom",required:!1,type:{name:"number"}},target:{defaultValue:null,description:"",name:"target",required:!1,type:{name:"() => HTMLElement | Window"}},targetContainer:{defaultValue:null,description:"",name:"targetContainer",required:!1,type:{name:"() => HTMLElement | Window"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"(isFixed: boolean) => void"}},w:{defaultValue:null,description:"width",name:"w",required:!1,type:{name:"string"}},maxW:{defaultValue:null,description:"max-width",name:"maxW",required:!1,type:{name:"string"}},minW:{defaultValue:null,description:"min-width",name:"minW",required:!1,type:{name:"string"}},h:{defaultValue:null,description:"height",name:"h",required:!1,type:{name:"string"}},maxH:{defaultValue:null,description:"max-height",name:"maxH",required:!1,type:{name:"string"}},minH:{defaultValue:null,description:"min-height",name:"minH",required:!1,type:{name:"string"}},pd:{defaultValue:null,description:"padding",name:"pd",required:!1,type:{name:"string"}},pt:{defaultValue:null,description:"padding-top",name:"pt",required:!1,type:{name:"string"}},pb:{defaultValue:null,description:"padding-bottom",name:"pb",required:!1,type:{name:"string"}},pl:{defaultValue:null,description:"padding-left",name:"pl",required:!1,type:{name:"string"}},pr:{defaultValue:null,description:"padding-right",name:"pr",required:!1,type:{name:"string"}},mg:{defaultValue:null,description:"margin",name:"mg",required:!1,type:{name:"string"}},ml:{defaultValue:null,description:"margin-left",name:"ml",required:!1,type:{name:"string"}},mr:{defaultValue:null,description:"margin-right",name:"mr",required:!1,type:{name:"string"}},mt:{defaultValue:null,description:"margin-top",name:"mt",required:!1,type:{name:"string"}},mb:{defaultValue:null,description:"margin-bottom",name:"mb",required:!1,type:{name:"string"}},bd:{defaultValue:null,description:"border",name:"bd",required:!1,type:{name:"string"}},bdRadius:{defaultValue:null,description:"border-radius",name:"bdRadius",required:!1,type:{name:"string"}},bt:{defaultValue:null,description:"border-top",name:"bt",required:!1,type:{name:"string"}},bl:{defaultValue:null,description:"border-left",name:"bl",required:!1,type:{name:"string"}},bb:{defaultValue:null,description:"border-bottom",name:"bb",required:!1,type:{name:"string"}},br:{defaultValue:null,description:"border-right",name:"br",required:!1,type:{name:"string"}},bg:{defaultValue:null,description:"background",name:"bg",required:!1,type:{name:"string"}},bdColor:{defaultValue:null,description:"border-color",name:"bdColor",required:!1,type:{name:"string"}},bgColor:{defaultValue:null,description:"background-color",name:"bgColor",required:!1,type:{name:"string"}},c:{defaultValue:null,description:"color",name:"c",required:!1,type:{name:"string"}},opac:{defaultValue:null,description:"opacity",name:"opac",required:!1,type:{name:"number"}},pos:{defaultValue:null,description:"",name:"pos",required:!1,type:{name:"enum",value:[{value:'"absolute"'},{value:'"relative"'},{value:'"fixed"'},{value:'"static"'}]}},posT:{defaultValue:null,description:"",name:"posT",required:!1,type:{name:"string"}},posL:{defaultValue:null,description:"",name:"posL",required:!1,type:{name:"string"}},posB:{defaultValue:null,description:"",name:"posB",required:!1,type:{name:"string"}},posR:{defaultValue:null,description:"",name:"posR",required:!1,type:{name:"string"}},z:{defaultValue:null,description:"",name:"z",required:!1,type:{name:"string | number"}},ov:{defaultValue:null,description:"over-flow,over-flow-x,over-flow-y",name:"ov",required:!1,type:{name:"string"}},ovX:{defaultValue:null,description:"",name:"ovX",required:!1,type:{name:"string"}},ovY:{defaultValue:null,description:"",name:"ovY",required:!1,type:{name:"string"}},v:{defaultValue:null,description:"visibility",name:"v",required:!1,type:{name:"string"}},disp:{defaultValue:null,description:"",name:"disp",required:!1,type:{name:"string"}},alignItems:{defaultValue:null,description:"",name:"alignItems",required:!1,type:{name:"string"}},alignContent:{defaultValue:null,description:"",name:"alignContent",required:!1,type:{name:"string"}},justifyItems:{defaultValue:null,description:"",name:"justifyItems",required:!1,type:{name:"string"}},justifyContent:{defaultValue:null,description:"",name:"justifyContent",required:!1,type:{name:"string"}},flexWrap:{defaultValue:null,description:"",name:"flexWrap",required:!1,type:{name:"string"}},flexDirection:{defaultValue:null,description:"",name:"flexDirection",required:!1,type:{name:"string"}},flex:{defaultValue:null,description:"",name:"flex",required:!1,type:{name:"string"}},flexGrow:{defaultValue:null,description:"",name:"flexGrow",required:!1,type:{name:"string"}},flexShrink:{defaultValue:null,description:"",name:"flexShrink",required:!1,type:{name:"string"}},flexBasis:{defaultValue:null,description:"",name:"flexBasis",required:!1,type:{name:"string"}},justifySelf:{defaultValue:null,description:"",name:"justifySelf",required:!1,type:{name:"string"}},alignSelf:{defaultValue:null,description:"",name:"alignSelf",required:!1,type:{name:"string"}},o:{defaultValue:null,description:"order",name:"o",required:!1,type:{name:"string"}},_css:{defaultValue:null,description:"",name:"_css",required:!1,type:{name:"SerializedStyles"}},fs:{defaultValue:null,description:"font-size",name:"fs",required:!1,type:{name:"string"}},ff:{defaultValue:null,description:"font-family",name:"ff",required:!1,type:{name:"string"}},fw:{defaultValue:null,description:"font-weight",name:"fw",required:!1,type:{name:"string"}},cur:{defaultValue:null,description:"",name:"cur",required:!1,type:{name:"string"}},l:{defaultValue:null,description:"",name:"l",required:!1,type:{name:"string | number"}},t:{defaultValue:null,description:"",name:"t",required:!1,type:{name:"string | number"}},r:{defaultValue:null,description:"",name:"r",required:!1,type:{name:"string | number"}},b:{defaultValue:null,description:"",name:"b",required:!1,type:{name:"string | number"}}}}}catch{}const Be={title:"OTHERS /Affix",component:s},B={width:"500px",whiteSpace:"pre-wrap"},de={background:"rgba(0, 0, 0, 0.3)",padding:"20px"},y=Array(10).fill(0).map(()=>"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.").join(`

`),b=e=>f(I,{children:[n(s,{...e,children:n(S,{children:"Affix Top"})}),n("div",{style:B,children:y})]}),V=()=>{const o=ie();return f(I,{children:[n("div",{style:B,children:y}),n(s,{offsetTop:200,onChange:u=>o.info({content:u?"Fixed 200px from top!":"Not fixed."}),children:f(S,{children:[200,"px to affix top"]})}),n("div",{style:B,children:y}),n(s,{offsetBottom:200,children:f(S,{children:[200,"px to affix bottom"]})})]})},v=()=>{const e=t.useRef(null);return f(I,{children:[n("div",{style:{overflow:"auto",height:300,width:500},ref:e,children:f("div",{style:de,children:[n(s,{target:()=>e.current,targetContainer:()=>window,children:n(S,{children:"Affix in scrolling container"})}),y]})}),n("div",{style:B,children:y})]})};var _,k,H;b.parameters={...b.parameters,docs:{...(_=b.parameters)==null?void 0:_.docs,source:{originalSource:`args => {
  return <>
      <Affix {...args}>
        <Button>Affix Top</Button>
      </Affix>
      <div style={blockStyles}>{loremIpsum}</div>
    </>;
}`,...(H=(k=b.parameters)==null?void 0:k.docs)==null?void 0:H.source}}};var W,j,$;V.parameters={...V.parameters,docs:{...(W=V.parameters)==null?void 0:W.docs,source:{originalSource:`() => {
  const offset = 200;
  const notification = useNotification();
  return <>
      <div style={blockStyles}>{loremIpsum}</div>
      <Affix offsetTop={offset} onChange={(isFixed: boolean) => notification.info({
      content: isFixed ? \`Fixed \${offset}px from top!\` : "Not fixed."
    })}>
        <Button>{offset}px to affix top</Button>
      </Affix>
      <div style={blockStyles}>{loremIpsum}</div>
      <Affix offsetBottom={offset}>
        <Button>{offset}px to affix bottom</Button>
      </Affix>
    </>;
}`,...($=(j=V.parameters)==null?void 0:j.docs)==null?void 0:$.source}}};var z,N,D;v.parameters={...v.parameters,docs:{...(z=v.parameters)==null?void 0:z.docs,source:{originalSource:`() => {
  const container = useRef<HTMLDivElement | null>(null);
  return <>
      <div style={{
      overflow: "auto",
      height: 300,
      width: 500
    }} ref={container}>
        <div style={containerBlockStyles}>
          <Affix target={() => container.current} targetContainer={() => window}>
            <Button>Affix in scrolling container</Button>
          </Affix>
          {loremIpsum}
        </div>
      </div>
      <div style={blockStyles}>{loremIpsum}</div>
    </>;
}`,...(D=(N=v.parameters)==null?void 0:N.docs)==null?void 0:D.source}}};const Ce=["Basic","Offset","TargetContainer"];export{b as Basic,V as Offset,v as TargetContainer,Ce as __namedExportsOrder,Be as default};
//# sourceMappingURL=affix.stories-fd355c44.js.map
