var he=Object.defineProperty;var Ve=(t,e,n)=>e in t?he(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var f=(t,e,n)=>(Ve(t,typeof e!="symbol"?e+"":e,n),n);import{j as P,a as g}from"./emotion-react-jsx-runtime.browser.esm-1facf72c.js";import{r as o}from"./index-1cdf6ce0.js";import{c as M}from"./style-4011d251.js";import{g as C}from"./color-palette-83e58897.js";import{M as Ne,P as Se}from"./plus-051f1501.js";import{f as j}from"./is-47f46886.js";import{U as ve}from"./up-3a461bc7.js";import{D as qe}from"./down-576466d9.js";import{m as xe}from"./merge-ref-e0695ca7.js";import{S as re}from"./space-29f127a3.js";import{I as Ie}from"./input-e0ce1352.js";import"./emotion-use-insertion-effect-with-fallbacks.browser.esm-d9790902.js";import"./index-45a08ae3.js";import"./create-icon-e804097a.js";import"./divider-90977a79.js";import"./style-339eb169.js";import"./z-index-efffafd0.js";import"./clear-c3d7638a.js";import"./use-merge-value-fcf53e13.js";import"./use-previous-5c929b6e.js";const Ee=M`
  transition: all 0.2s ease-in-out;
  display: inline-flex;
  flex-direction: column;
  align-items: center;
  visibility: hidden;
`;function Q(t,e){return M`
    display: inline-flex;
    flex-direction: column;
    align-items: center;
    width: 18px;
    height: ${e==="small"?"9px":"11px"};
    border-radius: ${t==="up"?"3px 3px 0 0":"0 0 3px 3px"};
    background-color: ${C("grayBlue","09")};
    font-size: 10px;
    color: ${C("grayBlue","04")};

    &:hover {
      background-color: ${C("grayBlue","07")};
    }
  `}const $e=M`
  &:hover {
    .control {
      visibility: visible;
    }
  }
`;function Z(t){return M`
    font-size: 12px;
    margin-left: ${t==="large"?"-2px":"-6px"};
    margin-right: ${t==="large"?"-2px":"-6px"};
    color: ${C("grayBlue","05")};
    &:active {
      color: ${C("grayBlue","02")};
    }
  `}function ie(t){return!Number.isNaN(Number(t))&&String(t).includes("e")}function z(){return typeof BigInt=="function"}function W(t){const e=String(t);if(ie(t)){let n=Number(e.slice(e.indexOf("e-")+2));return e.replace(/\.(\d+)/,(r,a)=>(n+=a.length,r)),n}return e.includes(".")&&le(e)?e.length-e.indexOf(".")-1:0}function ae(t){let e=String(t);if(ie(t)){if(t<Number.MIN_SAFE_INTEGER)return z()?BigInt(t).toString():Number.MIN_SAFE_INTEGER.toString();if(t>Number.MAX_SAFE_INTEGER)return z()?BigInt(t).toString():Number.MAX_SAFE_INTEGER.toString();const n=W(e);e=Number(t).toFixed(Math.min(100,n))}return w(e).fullStr}function le(t){return typeof t=="number"?!Number.isNaN(t):t?/^\s*-?\d+(\.\d+)?\s*$/.test(t)||/^\s*-?\d+\.\s*$/.test(t)||/^\s*-?\.\d+\s*$/.test(t):!1}function w(t){let e=t.trim(),n=!1;e=e.replace(/^-/,()=>(n=!0,"")).replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,"").replace(/^\./,"0.");const r=e||"0",[a="0",c="0"]=r.split(".");a==="0"&&c==="0"&&(n=!1);const u=n?"-":"";return{negative:n,negativeStr:u,trimStr:r,integerStr:a,decimalStr:c,fullStr:`${u}${r}`}}class R{constructor(e){f(this,"isEmpty",!1);f(this,"isNaN",!1);f(this,"isNegative",!1);f(this,"origin","");f(this,"integer");f(this,"decimal");f(this,"decimalLen");if(this.origin=String(e),!e&&e!==0||!this.origin.trim()){this.isEmpty=!0;return}if(e==="-"){this.isNaN=!0;return}const n=ae(e);if(le(n)){const{negative:r,trimStr:a}=w(n),[c,u="0"]=a.split(".");this.isNegative=r,this.integer=BigInt(c),this.decimal=BigInt(u),this.decimalLen=u.length}else this.isNaN=!0}get isInvalid(){return this.isEmpty||this.isNaN}getMark(){return this.isNegative?"-":""}getIntegerStr(){return this.integer.toString()}getDecimalStr(){return this.decimal.toString().padStart(this.decimalLen,"0")}alignDecimal(e){return BigInt(`${this.getMark()}${this.getIntegerStr()}${this.getDecimalStr().padEnd(e,"0")}`)}negate(){const e=this.toString();return new R(e.startsWith("-")?e.slice(1):`-${e}`)}add(e){const n=new R(e);if(n.isInvalid)return this;if(this.isInvalid)return n;const r=Math.max(this.decimalLen,n.decimalLen),a=this.alignDecimal(r),c=n.alignDecimal(r),u=(a+c).toString(),{negativeStr:N,trimStr:y}=w(u),d=`${N}${y.padStart(r+1,"0")}`;return new R(`${d.slice(0,-r)}.${d.slice(-r)}`)}equals(e){return this.toString()===(e==null?void 0:e.toString())}less(e){return this.isInvalid||e.isInvalid?!1:this.add(e.negate().toString()).toNumber()<0}toNumber(){return this.isNaN?NaN:Number(this.toString())}toString(e={safe:!0}){const{safe:n,precision:r}=e,a=n?this.isInvalid?"":w(`${this.getMark()}${this.getIntegerStr()}.${this.getDecimalStr()}`).fullStr:this.origin;return typeof r=="number"?O(a,r):a}}class V{constructor(e){f(this,"isEmpty",!1);f(this,"isNaN",!1);f(this,"origin","");f(this,"number");this.origin=String(e),this.number=Number(e),!e&&e!==0||!this.origin.trim()?this.isEmpty=!0:this.isNaN=Number.isNaN(this.number)}get isInvalid(){return this.isEmpty||this.isNaN}negate(){return new V(-this.toNumber())}equals(e){return this.toNumber()===(e==null?void 0:e.toNumber())}less(e){return this.isInvalid||e.isInvalid?!1:this.add(e.negate().toString()).toNumber()<0}add(e){const n=new V(e);if(n.isInvalid)return this;if(this.isInvalid)return n;const r=this.number+n.number;if(r>Number.MAX_SAFE_INTEGER)return new V(Number.MAX_SAFE_INTEGER);if(r<Number.MIN_SAFE_INTEGER)return new V(Number.MIN_SAFE_INTEGER);const a=Math.max(W(this.number),W(n.number));return new V(r.toFixed(a))}toNumber(){return this.number}toString(e={safe:!0}){const{safe:n,precision:r}=e,a=n?this.isInvalid?"":ae(this.number):this.origin;return typeof r=="number"?O(a,r):a}}function h(t){return z()?new R(t):new V(t)}function O(t,e,n=!1){if(t==="")return"";const r=".",{negativeStr:a,integerStr:c,decimalStr:u}=w(t),N=`${r}${u}`,y=`${a}${c}`;if(e&&e>=0){const d=Number(u[e]);if(d>=5&&!n){const m=h(t).add(`${a}0.${"0".repeat(e)}${10-d}`);return O(m.toString(),e,n)}return e===0?y:`${y}${r}${u.padEnd(e,"0").slice(0,e)}`}return`${y}${N===".0"?"":N}`}const q=o.forwardRef((t,e)=>{const{size:n="medium",colorScheme:r="blue",disabled:a,precision:c,error:u,hideControl:N,readOnly:y,max:d=Number.MAX_SAFE_INTEGER,min:m=Number.MIN_SAFE_INTEGER,step:x=1,onBlur:A,onFocus:B,placeholder:ue,mode:k="embed",prefix:se,suffix:oe,defaultValue:de,icons:p,inputRef:me,formatter:T,parser:I,onChange:D,onInput:Ce,...pe}=t,E=(()=>{if(j(c)){const i=`${x}`.split(".")[1],l=i&&i.length||0;return Math.max(l,c)}return null})(),[X,fe]=o.useState(()=>h("value"in t?t.value:"defaultValue"in t?de:"")),[H,U]=o.useState(!1),[F,K]=o.useState(""),s=o.useMemo(()=>"value"in t?h(t.value):X,[t,X]),[G,L]=o.useMemo(()=>[h(d),h(m)],[d,m]),S=o.useCallback(i=>{if(fe(i),!i.equals(s)&&D){const l=i.toString({safe:!0,precision:E??void 0});D(i.isEmpty?void 0:i.isNaN?NaN:Number(l))}},[E,D,s]),v=o.useCallback(i=>{let l=i;return l.less(L)?l=L:G.less(l)&&(l=G),l},[L,G]),b=o.useRef(),Y=o.useCallback(()=>{const i=s.isInvalid?h(m===-1/0||m<=0&&d>=0?0:m):s.add(x);S(v(i)),b.current&&b.current.focus()},[v,d,m,S,x,s]),J=o.useCallback(()=>{const i=s.isInvalid?h(m===-1/0||m<=0&&d>=0?0:m):s.add(-x);S(v(i)),b.current&&b.current.focus()},[v,d,m,S,x,s]),ce=P("div",{className:"control",css:Ee,children:[g("div",{css:Q("up",n),onClick:Y,children:(p==null?void 0:p.up)??g(ve,{})}),g("div",{css:Q("bottom",n),onClick:J,children:(p==null?void 0:p.down)??g(qe,{})})]}),ge=i=>{U(!0);const l=i.trim().replace(/ã€‚/g,"."),$=I?I(l):l;(j(+$)||$==="-"||!$||$===".")&&(K(l),S(v(h($))))},ye=o.useMemo(()=>{let i;return H?i=I?`${I(F)}`:F:j(E)?i=s.toString({safe:!0,precision:E}):s.isInvalid?i="":i=s.toString(),T?`${T(i)}`:i},[s,F,H,E,I,T]),be=i=>{S(v(s)),U(!1),A==null||A(i)};return g(Ie,{ref:e,...pe,inputRef:xe(b,me),_css:$e,size:n,value:ye,onChange:ge,onBlur:be,onFocus:i=>{var l;K((l=b.current)==null?void 0:l.value),B==null||B(i)},onPressEnter:()=>{b.current&&b.current.blur()},readOnly:y,placeholder:ue,prefix:se,suffix:P(re,{mr:"-8px",children:[oe,!N&&!y&&!a&&k==="embed"&&ce]}),addBefore:k==="button"?g("span",{css:Z(n),onClick:J,children:(p==null?void 0:p.minus)??g(Ne,{})}):void 0,addAfter:k==="button"?g("span",{css:Z(n),onClick:Y,children:(p==null?void 0:p.plus)??g(Se,{})}):void 0,colorScheme:r,disabled:a,error:u})});q.displayName="InputNumber";try{q.displayName="InputNumber",q.__docgenInfo={description:"",displayName:"InputNumber",props:{size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"medium"'},{value:'"large"'}]}},colorScheme:{defaultValue:null,description:"",name:"colorScheme",required:!1,type:{name:"string"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"boolean"}},hideControl:{defaultValue:null,description:"",name:"hideControl",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!1,type:{name:"boolean"}},max:{defaultValue:null,description:"",name:"max",required:!1,type:{name:"number"}},min:{defaultValue:null,description:"",name:"min",required:!1,type:{name:"number"}},precision:{defaultValue:null,description:"",name:"precision",required:!1,type:{name:"number"}},step:{defaultValue:null,description:"",name:"step",required:!1,type:{name:"number"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},mode:{defaultValue:null,description:"",name:"mode",required:!1,type:{name:"enum",value:[{value:'"button"'},{value:'"embed"'}]}},prefix:{defaultValue:null,description:"",name:"prefix",required:!1,type:{name:"ReactNode"}},suffix:{defaultValue:null,description:"",name:"suffix",required:!1,type:{name:"ReactNode"}},defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!1,type:{name:"number"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"number"}},icons:{defaultValue:null,description:"",name:"icons",required:!1,type:{name:"{ up?: ReactNode; down?: ReactNode; plus?: ReactNode; minus?: ReactNode; }"}},inputRef:{defaultValue:null,description:"",name:"inputRef",required:!1,type:{name:"Ref<HTMLInputElement>"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"(value: number) => void"}},onInput:{defaultValue:null,description:"",name:"onInput",required:!1,type:{name:"(value: string) => void"}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!1,type:{name:"(e: SyntheticEvent<Element, Event>) => void"}},parser:{defaultValue:null,description:"",name:"parser",required:!1,type:{name:"(value: string | number) => number"}},formatter:{defaultValue:null,description:"",name:"formatter",required:!1,type:{name:"(value: string | number) => string"}},w:{defaultValue:null,description:"width",name:"w",required:!1,type:{name:"string"}},maxW:{defaultValue:null,description:"max-width",name:"maxW",required:!1,type:{name:"string"}},minW:{defaultValue:null,description:"min-width",name:"minW",required:!1,type:{name:"string"}},h:{defaultValue:null,description:"height",name:"h",required:!1,type:{name:"string"}},maxH:{defaultValue:null,description:"max-height",name:"maxH",required:!1,type:{name:"string"}},minH:{defaultValue:null,description:"min-height",name:"minH",required:!1,type:{name:"string"}},pd:{defaultValue:null,description:"padding",name:"pd",required:!1,type:{name:"string"}},pt:{defaultValue:null,description:"padding-top",name:"pt",required:!1,type:{name:"string"}},pb:{defaultValue:null,description:"padding-bottom",name:"pb",required:!1,type:{name:"string"}},pl:{defaultValue:null,description:"padding-left",name:"pl",required:!1,type:{name:"string"}},pr:{defaultValue:null,description:"padding-right",name:"pr",required:!1,type:{name:"string"}},mg:{defaultValue:null,description:"margin",name:"mg",required:!1,type:{name:"string"}},ml:{defaultValue:null,description:"margin-left",name:"ml",required:!1,type:{name:"string"}},mr:{defaultValue:null,description:"margin-right",name:"mr",required:!1,type:{name:"string"}},mt:{defaultValue:null,description:"margin-top",name:"mt",required:!1,type:{name:"string"}},mb:{defaultValue:null,description:"margin-bottom",name:"mb",required:!1,type:{name:"string"}},bd:{defaultValue:null,description:"border",name:"bd",required:!1,type:{name:"string"}},bdRadius:{defaultValue:null,description:"border-radius",name:"bdRadius",required:!1,type:{name:"string"}},bt:{defaultValue:null,description:"border-top",name:"bt",required:!1,type:{name:"string"}},bl:{defaultValue:null,description:"border-left",name:"bl",required:!1,type:{name:"string"}},bb:{defaultValue:null,description:"border-bottom",name:"bb",required:!1,type:{name:"string"}},br:{defaultValue:null,description:"border-right",name:"br",required:!1,type:{name:"string"}},bg:{defaultValue:null,description:"background",name:"bg",required:!1,type:{name:"string"}},bdColor:{defaultValue:null,description:"border-color",name:"bdColor",required:!1,type:{name:"string"}},bgColor:{defaultValue:null,description:"background-color",name:"bgColor",required:!1,type:{name:"string"}},c:{defaultValue:null,description:"color",name:"c",required:!1,type:{name:"string"}},opac:{defaultValue:null,description:"opacity",name:"opac",required:!1,type:{name:"number"}},pos:{defaultValue:null,description:"",name:"pos",required:!1,type:{name:"enum",value:[{value:'"absolute"'},{value:'"relative"'},{value:'"fixed"'},{value:'"static"'}]}},posT:{defaultValue:null,description:"",name:"posT",required:!1,type:{name:"string"}},posL:{defaultValue:null,description:"",name:"posL",required:!1,type:{name:"string"}},posB:{defaultValue:null,description:"",name:"posB",required:!1,type:{name:"string"}},posR:{defaultValue:null,description:"",name:"posR",required:!1,type:{name:"string"}},z:{defaultValue:null,description:"",name:"z",required:!1,type:{name:"string | number"}},ov:{defaultValue:null,description:"over-flow,over-flow-x,over-flow-y",name:"ov",required:!1,type:{name:"string"}},ovX:{defaultValue:null,description:"",name:"ovX",required:!1,type:{name:"string"}},ovY:{defaultValue:null,description:"",name:"ovY",required:!1,type:{name:"string"}},v:{defaultValue:null,description:"visibility",name:"v",required:!1,type:{name:"string"}},disp:{defaultValue:null,description:"",name:"disp",required:!1,type:{name:"string"}},alignItems:{defaultValue:null,description:"",name:"alignItems",required:!1,type:{name:"string"}},alignContent:{defaultValue:null,description:"",name:"alignContent",required:!1,type:{name:"string"}},justifyItems:{defaultValue:null,description:"",name:"justifyItems",required:!1,type:{name:"string"}},justifyContent:{defaultValue:null,description:"",name:"justifyContent",required:!1,type:{name:"string"}},flexWrap:{defaultValue:null,description:"",name:"flexWrap",required:!1,type:{name:"string"}},flexDirection:{defaultValue:null,description:"",name:"flexDirection",required:!1,type:{name:"string"}},flex:{defaultValue:null,description:"",name:"flex",required:!1,type:{name:"string"}},flexGrow:{defaultValue:null,description:"",name:"flexGrow",required:!1,type:{name:"string"}},flexShrink:{defaultValue:null,description:"",name:"flexShrink",required:!1,type:{name:"string"}},flexBasis:{defaultValue:null,description:"",name:"flexBasis",required:!1,type:{name:"string"}},justifySelf:{defaultValue:null,description:"",name:"justifySelf",required:!1,type:{name:"string"}},alignSelf:{defaultValue:null,description:"",name:"alignSelf",required:!1,type:{name:"string"}},o:{defaultValue:null,description:"order",name:"o",required:!1,type:{name:"string"}},_css:{defaultValue:null,description:"",name:"_css",required:!1,type:{name:"SerializedStyles"}},fs:{defaultValue:null,description:"font-size",name:"fs",required:!1,type:{name:"string"}},ff:{defaultValue:null,description:"font-family",name:"ff",required:!1,type:{name:"string"}},fw:{defaultValue:null,description:"font-weight",name:"fw",required:!1,type:{name:"string"}},cur:{defaultValue:null,description:"",name:"cur",required:!1,type:{name:"string"}},l:{defaultValue:null,description:"",name:"l",required:!1,type:{name:"string | number"}},t:{defaultValue:null,description:"",name:"t",required:!1,type:{name:"string | number"}},r:{defaultValue:null,description:"",name:"r",required:!1,type:{name:"string | number"}},b:{defaultValue:null,description:"",name:"b",required:!1,type:{name:"string | number"}}}}}catch{}const Ye={title:"DATA INPUT/InputNumber",component:q},_=t=>{const[e,n]=o.useState(0);return P(re,{direction:"vertical",align:"start",children:[g(q,{w:"320px",formatter:r=>r+"%",parser:r=>r.replace("%",""),min:0,max:100,...t,mode:"button"}),g(q,{w:"320px",...t,precision:3,value:e,onChange:r=>{console.log("v",r),n(r)},mode:"button"})]})};var ee,te,ne;_.parameters={..._.parameters,docs:{...(ee=_.parameters)==null?void 0:ee.docs,source:{originalSource:`props => {
  const [currentValue, setCurrentValue] = useState<number | undefined>(0);
  return <Space direction="vertical" align="start">
      <InputNumber w="320px" formatter={v => {
      return v + "%";
    }} parser={v => {
      return (v as string).replace("%", "");
    }} min={0} max={100} {...props} mode="button" />
      <InputNumber w="320px" {...props} precision={3} value={currentValue} onChange={v => {
      console.log("v", v);
      setCurrentValue(v);
    }} mode="button" />
    </Space>;
}`,...(ne=(te=_.parameters)==null?void 0:te.docs)==null?void 0:ne.source}}};const Je=["Basic"];export{_ as Basic,Je as __namedExportsOrder,Ye as default};
//# sourceMappingURL=input-number.stories-e9f51548.js.map
