import{a as t,F as h,j as I}from"./emotion-react-jsx-runtime.browser.esm-1facf72c.js";import{r as u}from"./index-1cdf6ce0.js";import{c as V,a as v}from"./style-4011d251.js";import{g as i}from"./color-palette-83e58897.js";import{z as M}from"./z-index-efffafd0.js";import{m as W}from"./use-force-update-497a924b.js";import{L as z}from"./loading-9fdd5a3f.js";import{W as k}from"./warning-circle-e87f66a6.js";import{S as R}from"./success-circle-ab38d2dd.js";import{E as B}from"./error-circle-96d14faf.js";import{I as T}from"./info-cricle-31ebb878.js";import{C as E}from"./close-56bf4497.js";import{A as S}from"./index-4cd6a639.js";import{v as _}from"./v4-cf522c50.js";const H=V`
  pointer-events: visible;
  display: inline-flex;
  flex-direction: row;
  align-items: center;
  padding: 9px 16px;
  border-radius: 4px;
  box-shadow: 0 4px 10px 0 ${i("blackAlpha","07")};
  border: solid 1px ${i("gray","08")};
  background-color: ${i("white","01")};
  margin-bottom: 16px;
`;function N(e){return V`
    font-size: 14px;
    margin-left: ${e?"8px":"0"};
    color: ${i("gray","02")};
  `}const $=V`
  display: inline-flex;
  pointer-events: none;
  z-index: ${M.message};
  position: fixed;
  left: 0;
  right: 0;
  top: 16px;
  align-items: center;
  flex-direction: column;
`,G=V`
  display: inline-flex;
  pointer-events: none;
  z-index: ${M.message};
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  align-items: center;
  flex-direction: column;
`,a={maxCount:5,duration:3e3,listener:[],messageList:[]};function D(){return{getMessage:()=>a.messageList,setMessage:e=>{a.messageList=e,a.listener.forEach(n=>{n.onStoreChange()})},subscribe:e=>{const n={listenerId:_(),onStoreChange:e};return a.listener.push(n),n.onStoreChange(),n},unSubscribe:e=>{a.listener.splice(a.listener.findIndex(n=>n.listenerId===e),1)},add:e=>{a.messageList.push(e),a.listener.forEach(n=>{n.onStoreChange()})},updateConfig:e=>{e.duration!=null&&(a.duration=e.duration),e.maxCount!=null&&(a.maxCount=e.maxCount)},getConfig:()=>({maxCount:a.maxCount,duration:a.duration}),remove:e=>{const n=a.messageList.findIndex(s=>s.id===e);n!=-1&&(a.messageList.splice(n,1),a.listener.forEach(s=>{s.onStoreChange()}))}}}const r=D(),y=u.forwardRef((e,n)=>{const{type:s,closable:q,showIcon:c=!0,duration:g,id:f="",position:d,icon:p,content:L,onClose:l}=e,o=u.useRef(),b=u.useCallback(()=>{var C;let x;g?x=window.setTimeout(()=>{r.remove(f),l==null||l()},g):x=window.setTimeout(()=>{r.remove(f),l==null||l(),o.current=void 0},((C=r.getConfig())==null?void 0:C.duration)??3e3),o.current=x},[g,f,l]);u.useEffect(()=>(b(),()=>{o.current&&(clearTimeout(o.current),o.current=void 0)}),[b]);const j=u.useMemo(()=>{if(c){if(p)return p;switch(s){case"info":return t(T,{fs:"16px",c:i("blue","03")});case"error":return t(B,{fs:"16px",c:i("red","03")});case"success":return t(R,{fs:"16px",c:i("green","03")});case"warning":return t(k,{fs:"16px",c:i("red","03")});case"loading":return t(z,{spin:!0,fs:"16px",c:i("blue","03")});case"normal":default:return t(h,{})}}else return t(h,{})},[c,p,s]);return I(W.div,{ref:n,layout:!0,exit:{opacity:0,transition:{opacity:{duration:.2,ease:"linear"}}},animate:{opacity:1},initial:{opacity:0},transition:{duration:.2},css:[H,v(e)],onMouseEnter:()=>{o.current&&(clearTimeout(o.current),o.current=void 0)},onMouseLeave:()=>{b()},children:[j,t("span",{css:N(c&&s!=="normal"),children:L}),q&&t(E,{fs:"8px",ml:"15px",c:i("gray","03"),onClick:()=>{r.remove(f),l==null||l()}})]})});y.displayName="Message";try{y.displayName="Message",y.__docgenInfo={description:"",displayName:"Message",props:{type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"loading"'},{value:'"error"'},{value:'"info"'},{value:'"success"'},{value:'"warning"'},{value:'"normal"'}]}},closable:{defaultValue:null,description:"",name:"closable",required:!1,type:{name:"boolean"}},showIcon:{defaultValue:null,description:"",name:"showIcon",required:!1,type:{name:"boolean"}},duration:{defaultValue:null,description:"",name:"duration",required:!1,type:{name:"number"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},position:{defaultValue:null,description:"",name:"position",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'}]}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"ReactNode"}},content:{defaultValue:null,description:"",name:"content",required:!1,type:{name:"ReactNode"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!1,type:{name:"(id?: string) => void"}},w:{defaultValue:null,description:"width",name:"w",required:!1,type:{name:"string"}},maxW:{defaultValue:null,description:"max-width",name:"maxW",required:!1,type:{name:"string"}},minW:{defaultValue:null,description:"min-width",name:"minW",required:!1,type:{name:"string"}},h:{defaultValue:null,description:"height",name:"h",required:!1,type:{name:"string"}},maxH:{defaultValue:null,description:"max-height",name:"maxH",required:!1,type:{name:"string"}},minH:{defaultValue:null,description:"min-height",name:"minH",required:!1,type:{name:"string"}},pd:{defaultValue:null,description:"padding",name:"pd",required:!1,type:{name:"string"}},pt:{defaultValue:null,description:"padding-top",name:"pt",required:!1,type:{name:"string"}},pb:{defaultValue:null,description:"padding-bottom",name:"pb",required:!1,type:{name:"string"}},pl:{defaultValue:null,description:"padding-left",name:"pl",required:!1,type:{name:"string"}},pr:{defaultValue:null,description:"padding-right",name:"pr",required:!1,type:{name:"string"}},mg:{defaultValue:null,description:"margin",name:"mg",required:!1,type:{name:"string"}},ml:{defaultValue:null,description:"margin-left",name:"ml",required:!1,type:{name:"string"}},mr:{defaultValue:null,description:"margin-right",name:"mr",required:!1,type:{name:"string"}},mt:{defaultValue:null,description:"margin-top",name:"mt",required:!1,type:{name:"string"}},mb:{defaultValue:null,description:"margin-bottom",name:"mb",required:!1,type:{name:"string"}},bd:{defaultValue:null,description:"border",name:"bd",required:!1,type:{name:"string"}},bdRadius:{defaultValue:null,description:"border-radius",name:"bdRadius",required:!1,type:{name:"string"}},bt:{defaultValue:null,description:"border-top",name:"bt",required:!1,type:{name:"string"}},bl:{defaultValue:null,description:"border-left",name:"bl",required:!1,type:{name:"string"}},bb:{defaultValue:null,description:"border-bottom",name:"bb",required:!1,type:{name:"string"}},br:{defaultValue:null,description:"border-right",name:"br",required:!1,type:{name:"string"}},bg:{defaultValue:null,description:"background",name:"bg",required:!1,type:{name:"string"}},bdColor:{defaultValue:null,description:"border-color",name:"bdColor",required:!1,type:{name:"string"}},bgColor:{defaultValue:null,description:"background-color",name:"bgColor",required:!1,type:{name:"string"}},c:{defaultValue:null,description:"color",name:"c",required:!1,type:{name:"string"}},opac:{defaultValue:null,description:"opacity",name:"opac",required:!1,type:{name:"number"}},pos:{defaultValue:null,description:"",name:"pos",required:!1,type:{name:"enum",value:[{value:'"absolute"'},{value:'"relative"'},{value:'"fixed"'},{value:'"static"'}]}},posT:{defaultValue:null,description:"",name:"posT",required:!1,type:{name:"string"}},posL:{defaultValue:null,description:"",name:"posL",required:!1,type:{name:"string"}},posB:{defaultValue:null,description:"",name:"posB",required:!1,type:{name:"string"}},posR:{defaultValue:null,description:"",name:"posR",required:!1,type:{name:"string"}},z:{defaultValue:null,description:"",name:"z",required:!1,type:{name:"string | number"}},ov:{defaultValue:null,description:"over-flow,over-flow-x,over-flow-y",name:"ov",required:!1,type:{name:"string"}},ovX:{defaultValue:null,description:"",name:"ovX",required:!1,type:{name:"string"}},ovY:{defaultValue:null,description:"",name:"ovY",required:!1,type:{name:"string"}},v:{defaultValue:null,description:"visibility",name:"v",required:!1,type:{name:"string"}},disp:{defaultValue:null,description:"",name:"disp",required:!1,type:{name:"string"}},alignItems:{defaultValue:null,description:"",name:"alignItems",required:!1,type:{name:"string"}},alignContent:{defaultValue:null,description:"",name:"alignContent",required:!1,type:{name:"string"}},justifyItems:{defaultValue:null,description:"",name:"justifyItems",required:!1,type:{name:"string"}},justifyContent:{defaultValue:null,description:"",name:"justifyContent",required:!1,type:{name:"string"}},flexWrap:{defaultValue:null,description:"",name:"flexWrap",required:!1,type:{name:"string"}},flexDirection:{defaultValue:null,description:"",name:"flexDirection",required:!1,type:{name:"string"}},flex:{defaultValue:null,description:"",name:"flex",required:!1,type:{name:"string"}},flexGrow:{defaultValue:null,description:"",name:"flexGrow",required:!1,type:{name:"string"}},flexShrink:{defaultValue:null,description:"",name:"flexShrink",required:!1,type:{name:"string"}},flexBasis:{defaultValue:null,description:"",name:"flexBasis",required:!1,type:{name:"string"}},justifySelf:{defaultValue:null,description:"",name:"justifySelf",required:!1,type:{name:"string"}},alignSelf:{defaultValue:null,description:"",name:"alignSelf",required:!1,type:{name:"string"}},o:{defaultValue:null,description:"order",name:"o",required:!1,type:{name:"string"}},_css:{defaultValue:null,description:"",name:"_css",required:!1,type:{name:"SerializedStyles"}},fs:{defaultValue:null,description:"font-size",name:"fs",required:!1,type:{name:"string"}},ff:{defaultValue:null,description:"font-family",name:"ff",required:!1,type:{name:"string"}},fw:{defaultValue:null,description:"font-weight",name:"fw",required:!1,type:{name:"string"}},cur:{defaultValue:null,description:"",name:"cur",required:!1,type:{name:"string"}},l:{defaultValue:null,description:"",name:"l",required:!1,type:{name:"string | number"}},t:{defaultValue:null,description:"",name:"t",required:!1,type:{name:"string | number"}},r:{defaultValue:null,description:"",name:"r",required:!1,type:{name:"string | number"}},b:{defaultValue:null,description:"",name:"b",required:!1,type:{name:"string | number"}}}}}catch{}const w=e=>{const[n,s]=u.useState([]),[q,c]=u.useState([]);u.useEffect(()=>{const d=r.subscribe(()=>{s(r.getMessage().filter(p=>p.position==="top")),c(r.getMessage().filter(p=>p.position==="bottom"))});return()=>{r.unSubscribe(d.listenerId)}},[]);const g=u.useMemo(()=>n.map(d=>t(y,{...d},d.id)),[n]),f=u.useMemo(()=>q.map(d=>t(y,{...d},d.id)),[q]);return I(h,{children:[t("div",{css:[$,v(e)],children:t(S,{children:g})}),t("div",{css:[G,v(e)],children:t(S,{children:f})})]})};w.displayName="MessageGroup";try{w.displayName="MessageGroup",w.__docgenInfo={description:"",displayName:"MessageGroup",props:{w:{defaultValue:null,description:"width",name:"w",required:!1,type:{name:"string"}},maxW:{defaultValue:null,description:"max-width",name:"maxW",required:!1,type:{name:"string"}},minW:{defaultValue:null,description:"min-width",name:"minW",required:!1,type:{name:"string"}},h:{defaultValue:null,description:"height",name:"h",required:!1,type:{name:"string"}},maxH:{defaultValue:null,description:"max-height",name:"maxH",required:!1,type:{name:"string"}},minH:{defaultValue:null,description:"min-height",name:"minH",required:!1,type:{name:"string"}},pd:{defaultValue:null,description:"padding",name:"pd",required:!1,type:{name:"string"}},pt:{defaultValue:null,description:"padding-top",name:"pt",required:!1,type:{name:"string"}},pb:{defaultValue:null,description:"padding-bottom",name:"pb",required:!1,type:{name:"string"}},pl:{defaultValue:null,description:"padding-left",name:"pl",required:!1,type:{name:"string"}},pr:{defaultValue:null,description:"padding-right",name:"pr",required:!1,type:{name:"string"}},mg:{defaultValue:null,description:"margin",name:"mg",required:!1,type:{name:"string"}},ml:{defaultValue:null,description:"margin-left",name:"ml",required:!1,type:{name:"string"}},mr:{defaultValue:null,description:"margin-right",name:"mr",required:!1,type:{name:"string"}},mt:{defaultValue:null,description:"margin-top",name:"mt",required:!1,type:{name:"string"}},mb:{defaultValue:null,description:"margin-bottom",name:"mb",required:!1,type:{name:"string"}},bd:{defaultValue:null,description:"border",name:"bd",required:!1,type:{name:"string"}},bdRadius:{defaultValue:null,description:"border-radius",name:"bdRadius",required:!1,type:{name:"string"}},bt:{defaultValue:null,description:"border-top",name:"bt",required:!1,type:{name:"string"}},bl:{defaultValue:null,description:"border-left",name:"bl",required:!1,type:{name:"string"}},bb:{defaultValue:null,description:"border-bottom",name:"bb",required:!1,type:{name:"string"}},br:{defaultValue:null,description:"border-right",name:"br",required:!1,type:{name:"string"}},bg:{defaultValue:null,description:"background",name:"bg",required:!1,type:{name:"string"}},bdColor:{defaultValue:null,description:"border-color",name:"bdColor",required:!1,type:{name:"string"}},bgColor:{defaultValue:null,description:"background-color",name:"bgColor",required:!1,type:{name:"string"}},c:{defaultValue:null,description:"color",name:"c",required:!1,type:{name:"string"}},opac:{defaultValue:null,description:"opacity",name:"opac",required:!1,type:{name:"number"}},pos:{defaultValue:null,description:"",name:"pos",required:!1,type:{name:"enum",value:[{value:'"absolute"'},{value:'"relative"'},{value:'"fixed"'},{value:'"static"'}]}},posT:{defaultValue:null,description:"",name:"posT",required:!1,type:{name:"string"}},posL:{defaultValue:null,description:"",name:"posL",required:!1,type:{name:"string"}},posB:{defaultValue:null,description:"",name:"posB",required:!1,type:{name:"string"}},posR:{defaultValue:null,description:"",name:"posR",required:!1,type:{name:"string"}},z:{defaultValue:null,description:"",name:"z",required:!1,type:{name:"string | number"}},ov:{defaultValue:null,description:"over-flow,over-flow-x,over-flow-y",name:"ov",required:!1,type:{name:"string"}},ovX:{defaultValue:null,description:"",name:"ovX",required:!1,type:{name:"string"}},ovY:{defaultValue:null,description:"",name:"ovY",required:!1,type:{name:"string"}},v:{defaultValue:null,description:"visibility",name:"v",required:!1,type:{name:"string"}},disp:{defaultValue:null,description:"",name:"disp",required:!1,type:{name:"string"}},alignItems:{defaultValue:null,description:"",name:"alignItems",required:!1,type:{name:"string"}},alignContent:{defaultValue:null,description:"",name:"alignContent",required:!1,type:{name:"string"}},justifyItems:{defaultValue:null,description:"",name:"justifyItems",required:!1,type:{name:"string"}},justifyContent:{defaultValue:null,description:"",name:"justifyContent",required:!1,type:{name:"string"}},flexWrap:{defaultValue:null,description:"",name:"flexWrap",required:!1,type:{name:"string"}},flexDirection:{defaultValue:null,description:"",name:"flexDirection",required:!1,type:{name:"string"}},flex:{defaultValue:null,description:"",name:"flex",required:!1,type:{name:"string"}},flexGrow:{defaultValue:null,description:"",name:"flexGrow",required:!1,type:{name:"string"}},flexShrink:{defaultValue:null,description:"",name:"flexShrink",required:!1,type:{name:"string"}},flexBasis:{defaultValue:null,description:"",name:"flexBasis",required:!1,type:{name:"string"}},justifySelf:{defaultValue:null,description:"",name:"justifySelf",required:!1,type:{name:"string"}},alignSelf:{defaultValue:null,description:"",name:"alignSelf",required:!1,type:{name:"string"}},o:{defaultValue:null,description:"order",name:"o",required:!1,type:{name:"string"}},_css:{defaultValue:null,description:"",name:"_css",required:!1,type:{name:"SerializedStyles"}},fs:{defaultValue:null,description:"font-size",name:"fs",required:!1,type:{name:"string"}},ff:{defaultValue:null,description:"font-family",name:"ff",required:!1,type:{name:"string"}},fw:{defaultValue:null,description:"font-weight",name:"fw",required:!1,type:{name:"string"}},cur:{defaultValue:null,description:"",name:"cur",required:!1,type:{name:"string"}},l:{defaultValue:null,description:"",name:"l",required:!1,type:{name:"string | number"}},t:{defaultValue:null,description:"",name:"t",required:!1,type:{name:"string | number"}},r:{defaultValue:null,description:"",name:"r",required:!1,type:{name:"string | number"}},b:{defaultValue:null,description:"",name:"b",required:!1,type:{name:"string | number"}}}}}catch{}const m=e=>(r.getMessage().length>(r.getConfig().maxCount??5)&&r.getMessage().shift(),e.id||(e.id=_()),e.position||(e.position="top"),e.type||(e.type="normal"),r.add(e),e.id),X={info:e=>(e.type="info",m(e)),error:e=>(e.type="error",m(e)),success:e=>(e.type="success",m(e)),loading:e=>(e.type="loading",m(e)),warning:e=>(e.type="warning",m(e)),normal:e=>(e.type="normal",m(e)),show:m,remove:e=>{r.remove(e)},clear:()=>{r.setMessage([])},config:e=>{r.updateConfig(e)}};function re(){return X}export{y as M,w as a,re as u};
//# sourceMappingURL=hook-4442e88c.js.map
