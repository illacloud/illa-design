{"version":3,"file":"index-b622a928.js","sources":["../../../../packages/date-picker/src/panels/quarter/style.ts","../../../../packages/date-picker/src/panels/quarter/index.tsx"],"sourcesContent":["import { css } from \"@emotion/react\"\n\nexport const quarterPanelStyle = css`\n  width: 280px;\n`\n","import { FC, useCallback } from \"react\"\nimport { QuarterPickerPanelProps } from \"./interface\"\nimport { DatePickerModeType } from \"../../interface\"\nimport { BasicBodySection } from \"../basic-body-section\"\nimport { Dayjs } from \"dayjs\"\nimport { padStart } from \"../../utils/pad\"\nimport { quarterPanelStyle } from \"./style\"\nimport { BasicHeaderSection } from \"../basic-header-section\"\nimport { NextDoubleIcon, PreviousDoubleIcon } from \"@illa-design/icon\"\nimport { YearPickerPanel } from \"../year\"\nimport { dayjsPro } from \"@illa-design/system\"\n\nconst isSameTime = (current: Dayjs, target: Dayjs) =>\n  current.isSame(target, \"month\")\n\nconst generateRows = (showYear: number) => {\n  return [\n    new Array(4).fill(0).map((_, index) => ({\n      name: `Q${index + 1}`,\n      time: dayjsPro(\n        `${showYear}-${padStart(index * 3 + 1, 2, \"0\")}`,\n        \"YYYY-MM\",\n      ),\n    })),\n  ]\n}\nexport const QuarterPickerPanel: FC<QuarterPickerPanelProps> = (props) => {\n  const {\n    pageShowDate,\n    onMouseEnterCell,\n    onMouseLeaveCell,\n    dateRender,\n    disabledDate,\n    value,\n    locale,\n    isRangePicker,\n    onSelect,\n    rangeValues,\n    onSuperPrev,\n    onSuperNext,\n    format,\n    getHeaderOperations,\n    setPageShowDate,\n    panelMode = \"quarter\",\n    setPanelMode,\n    superNextIcon = <NextDoubleIcon />,\n    superPrevIcon = <PreviousDoubleIcon />,\n    ...rest\n  } = props\n\n  const bodyProps = isRangePicker ? { rangeValues } : { value }\n\n  const rows = generateRows(\n    pageShowDate ? pageShowDate.year() : dayjsPro().year(),\n  )\n\n  const onChangePanel = useCallback(\n    (mode: DatePickerModeType) => {\n      setPanelMode?.(mode)\n    },\n    [setPanelMode],\n  )\n\n  const onSelectAtYearPanel = useCallback(\n    (_: string | undefined, date: Dayjs | undefined) => {\n      setPanelMode?.(\"month\")\n      setPageShowDate?.(date)\n    },\n    [setPageShowDate, setPanelMode],\n  )\n\n  if (panelMode === \"year\") {\n    return (\n      <YearPickerPanel\n        {...getHeaderOperations?.(panelMode)}\n        pageShowDate={pageShowDate}\n        onSelect={onSelectAtYearPanel}\n        disabledDate={disabledDate}\n      />\n    )\n  }\n\n  return (\n    <div css={quarterPanelStyle}>\n      <BasicHeaderSection\n        onSuperPrev={onSuperPrev}\n        onSuperNext={onSuperNext}\n        value={pageShowDate || dayjsPro()}\n        mode={panelMode}\n        onChangePanel={onChangePanel}\n        superPrevIcon={superPrevIcon}\n        superNextIcon={superNextIcon}\n      />\n      <BasicBodySection\n        {...rest}\n        {...bodyProps}\n        rows={rows}\n        onSelectDate={onSelect}\n        isSameTime={isSameTime}\n        onMouseEnterCell={onMouseEnterCell}\n        onMouseLeaveCell={onMouseLeaveCell}\n        dateRender={dateRender}\n        disabledDate={disabledDate}\n        mode=\"quarter\"\n        format={format}\n      />\n    </div>\n  )\n}\n"],"names":["quarterPanelStyle","css","isSameTime","current","target","generateRows","showYear","_","index","dayjsPro","padStart","QuarterPickerPanel","props","pageShowDate","onMouseEnterCell","onMouseLeaveCell","dateRender","disabledDate","value","locale","isRangePicker","onSelect","rangeValues","onSuperPrev","onSuperNext","format","getHeaderOperations","setPageShowDate","panelMode","setPanelMode","superNextIcon","jsx","NextDoubleIcon","superPrevIcon","PreviousDoubleIcon","rest","bodyProps","rows","onChangePanel","useCallback","mode","onSelectAtYearPanel","date","YearPickerPanel","jsxs","BasicHeaderSection","BasicBodySection"],"mappings":"8UAEO,MAAMA,EAAoBC;AAAA;AAAA,ECUjCC,EAAA,CAAAC,EAAAC,IAAAD,EAAA,OAAAC,EAAA,OAAA,EAGAC,EAAAC,GACE,CAAO,IAAA,MAAA,CAAA,EAAA,KAAA,CAAA,EAAA,IAAA,CAAAC,EAAAC,KAAA,CACmC,KAAA,IAAAA,EAAA,CAAA,GACnB,KAAAC,EACb,GAAAH,CAAA,IAAAI,EAAAF,EAAA,EAAA,EAAA,EAAA,GAAA,CAAA,GAC0C,SAC9C,CACF,EAAA,CACA,EAGCG,EAAAC,GAAA,CACL,KAAA,CAAM,aAAAC,EACJ,iBAAAC,EACA,iBAAAC,EACA,WAAAC,EACA,aAAAC,EACA,MAAAC,EACA,OAAAC,EACA,cAAAC,EACA,SAAAC,EACA,YAAAC,EACA,YAAAC,EACA,YAAAC,EACA,OAAAC,EACA,oBAAAC,EACA,gBAAAC,EACA,UAAAC,EAAA,UACY,aAAAC,EACZ,cAAAC,EAAAC,EAAAC,EAAA,EAAA,EACgC,cAAAC,EAAAF,EAAAG,EAAA,EAAA,EACI,GAAAC,CACjC,EAAAvB,EAGLwB,EAAAhB,EAAA,CAAA,YAAAE,CAAA,EAAA,CAAA,MAAAJ,CAAA,EAEAmB,EAAAhC,EAAaQ,EAAAA,EAAA,KAAA,EAAAJ,EAAA,EAAA,KAAA,CAC0C,EAGvD6B,EAAAC,EAAA,YAAsBC,GAAA,CAElBX,GAAA,MAAAA,EAAAW,EAAmB,EACrB,CAAAX,CAAA,CACa,EAGfY,EAAAF,EAAA,YAA4B,CAAAhC,EAAAmC,IAAA,CAExBb,GAAA,MAAAA,EAAA,SACAF,GAAA,MAAAA,EAAAe,EAAsB,EACxB,CAAAf,EAAAE,CAAA,CAC8B,EAGhC,OAAAD,IAAA,OACEG,EACEY,EAAC,CAAA,GAAAjB,GAAA,YAAAA,EAAAE,GACoC,aAAAf,EACnC,SAAA4B,EACU,aAAAxB,CACV,CAAA,EAKN2B,EAAA,MAAA,CAAA,IAAA5C,EAAA,SAAA,CAEI+B,EAAAc,EAAC,CAAA,YAAAtB,EACC,YAAAC,EACA,MAAAX,GAAAJ,EAAA,EACgC,KAAAmB,EAC1B,cAAAU,EACN,cAAAL,EACA,cAAAH,CACA,CAAA,EACFC,EACAe,EAAC,CAAA,GAAAX,EACK,GAAAC,EACA,KAAAC,EACJ,aAAAhB,EACc,WAAAnB,EACd,iBAAAY,EACA,iBAAAC,EACA,WAAAC,EACA,aAAAC,EACA,KAAA,UACK,OAAAQ,CACL,CAAA,CACF,CAAA,CAAA,CAGN"}