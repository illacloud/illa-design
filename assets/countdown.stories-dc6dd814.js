import{j as R,a as f}from"./emotion-react-jsx-runtime.browser.esm-1facf72c.js";import{r as p}from"./index-1cdf6ce0.js";import{d as r}from"./dayjs.min-acd82c3b.js";import{s as B,a as I,b as H}from"./style-20f50605.js";import{a as T,d as z}from"./style-4011d251.js";import{S as W}from"./space-4ea1e39f.js";import"./emotion-use-insertion-effect-with-fallbacks.browser.esm-d9790902.js";import"./color-palette-83e58897.js";import"./index-45a08ae3.js";import"./divider-8f1dc498.js";const M=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]];function k(e,c){let a=e;return M.reduce((n,[s,l])=>{if(n.indexOf(s)!==-1){const t=Math.floor(a/l);return a-=t*l,n.replace(new RegExp(`${s}+`,"g"),g=>{const d=g.length;return t.toString().padStart(d,"0")})}return n},c)}const u=p.forwardRef((e,c)=>{const{title:a,value:n=0,format:s="HH:mm:ss",onFinish:l,onChange:t,now:g=r(),start:d=!0,valueStyle:x,colorScheme:y="grayBlue",...C}=e,V=r(g);V.isValid()||console.warn("the now prop is not valid!");const o=r(n)||r();o.isValid()||console.warn("the value prop is not valid!");const[_,D]=p.useState(Math.max(o.diff(V,"millisecond"),0)),m=p.useRef(void 0),q=()=>{window.clearInterval(m.current),m.current=void 0},j=()=>{m.current=window.setInterval(()=>{const b=o.diff(r(),"millisecond"),v=Math.max(b,0);t&&t(v),b<=0&&(q(),l&&l()),D(v)},1e3/30)};return p.useEffect(()=>(!m.current&&d&&o.valueOf()>=Date.now()&&j(),()=>{q()}),[d]),R("div",{ref:c,css:[B,T(e)],...z(C),children:[a&&f("div",{css:I(y),children:a}),f("div",{css:H(y),style:x,children:k(_,s)})]})});u.displayName="Countdown";try{u.displayName="Countdown",u.__docgenInfo={description:"",displayName:"Countdown",props:{title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"ReactNode"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string | number | Dayjs | Date"}},now:{defaultValue:null,description:"",name:"now",required:!1,type:{name:"string | number | Dayjs | Date"}},format:{defaultValue:null,description:"",name:"format",required:!1,type:{name:"string"}},start:{defaultValue:null,description:"",name:"start",required:!1,type:{name:"boolean"}},onFinish:{defaultValue:null,description:"",name:"onFinish",required:!1,type:{name:"() => void"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"(value: number) => void"}},valueStyle:{defaultValue:null,description:"",name:"valueStyle",required:!1,type:{name:"CSSProperties"}},colorScheme:{defaultValue:null,description:"",name:"colorScheme",required:!1,type:{name:"string"}},w:{defaultValue:null,description:"width",name:"w",required:!1,type:{name:"string"}},maxW:{defaultValue:null,description:"max-width",name:"maxW",required:!1,type:{name:"string"}},minW:{defaultValue:null,description:"min-width",name:"minW",required:!1,type:{name:"string"}},h:{defaultValue:null,description:"height",name:"h",required:!1,type:{name:"string"}},maxH:{defaultValue:null,description:"max-height",name:"maxH",required:!1,type:{name:"string"}},minH:{defaultValue:null,description:"min-height",name:"minH",required:!1,type:{name:"string"}},pd:{defaultValue:null,description:"padding",name:"pd",required:!1,type:{name:"string"}},pt:{defaultValue:null,description:"padding-top",name:"pt",required:!1,type:{name:"string"}},pb:{defaultValue:null,description:"padding-bottom",name:"pb",required:!1,type:{name:"string"}},pl:{defaultValue:null,description:"padding-left",name:"pl",required:!1,type:{name:"string"}},pr:{defaultValue:null,description:"padding-right",name:"pr",required:!1,type:{name:"string"}},mg:{defaultValue:null,description:"margin",name:"mg",required:!1,type:{name:"string"}},ml:{defaultValue:null,description:"margin-left",name:"ml",required:!1,type:{name:"string"}},mr:{defaultValue:null,description:"margin-right",name:"mr",required:!1,type:{name:"string"}},mt:{defaultValue:null,description:"margin-top",name:"mt",required:!1,type:{name:"string"}},mb:{defaultValue:null,description:"margin-bottom",name:"mb",required:!1,type:{name:"string"}},bd:{defaultValue:null,description:"border",name:"bd",required:!1,type:{name:"string"}},bdRadius:{defaultValue:null,description:"border-radius",name:"bdRadius",required:!1,type:{name:"string"}},bt:{defaultValue:null,description:"border-top",name:"bt",required:!1,type:{name:"string"}},bl:{defaultValue:null,description:"border-left",name:"bl",required:!1,type:{name:"string"}},bb:{defaultValue:null,description:"border-bottom",name:"bb",required:!1,type:{name:"string"}},br:{defaultValue:null,description:"border-right",name:"br",required:!1,type:{name:"string"}},bg:{defaultValue:null,description:"background",name:"bg",required:!1,type:{name:"string"}},bdColor:{defaultValue:null,description:"border-color",name:"bdColor",required:!1,type:{name:"string"}},bgColor:{defaultValue:null,description:"background-color",name:"bgColor",required:!1,type:{name:"string"}},c:{defaultValue:null,description:"color",name:"c",required:!1,type:{name:"string"}},opac:{defaultValue:null,description:"opacity",name:"opac",required:!1,type:{name:"number"}},pos:{defaultValue:null,description:"",name:"pos",required:!1,type:{name:"enum",value:[{value:'"absolute"'},{value:'"relative"'},{value:'"fixed"'},{value:'"static"'}]}},posT:{defaultValue:null,description:"",name:"posT",required:!1,type:{name:"string"}},posL:{defaultValue:null,description:"",name:"posL",required:!1,type:{name:"string"}},posB:{defaultValue:null,description:"",name:"posB",required:!1,type:{name:"string"}},posR:{defaultValue:null,description:"",name:"posR",required:!1,type:{name:"string"}},z:{defaultValue:null,description:"",name:"z",required:!1,type:{name:"string | number"}},ov:{defaultValue:null,description:"over-flow,over-flow-x,over-flow-y",name:"ov",required:!1,type:{name:"string"}},ovX:{defaultValue:null,description:"",name:"ovX",required:!1,type:{name:"string"}},ovY:{defaultValue:null,description:"",name:"ovY",required:!1,type:{name:"string"}},v:{defaultValue:null,description:"visibility",name:"v",required:!1,type:{name:"string"}},disp:{defaultValue:null,description:"",name:"disp",required:!1,type:{name:"string"}},alignItems:{defaultValue:null,description:"",name:"alignItems",required:!1,type:{name:"string"}},alignContent:{defaultValue:null,description:"",name:"alignContent",required:!1,type:{name:"string"}},justifyItems:{defaultValue:null,description:"",name:"justifyItems",required:!1,type:{name:"string"}},justifyContent:{defaultValue:null,description:"",name:"justifyContent",required:!1,type:{name:"string"}},flexWrap:{defaultValue:null,description:"",name:"flexWrap",required:!1,type:{name:"string"}},flexDirection:{defaultValue:null,description:"",name:"flexDirection",required:!1,type:{name:"string"}},flex:{defaultValue:null,description:"",name:"flex",required:!1,type:{name:"string"}},flexGrow:{defaultValue:null,description:"",name:"flexGrow",required:!1,type:{name:"string"}},flexShrink:{defaultValue:null,description:"",name:"flexShrink",required:!1,type:{name:"string"}},flexBasis:{defaultValue:null,description:"",name:"flexBasis",required:!1,type:{name:"string"}},justifySelf:{defaultValue:null,description:"",name:"justifySelf",required:!1,type:{name:"string"}},alignSelf:{defaultValue:null,description:"",name:"alignSelf",required:!1,type:{name:"string"}},o:{defaultValue:null,description:"order",name:"o",required:!1,type:{name:"string"}},_css:{defaultValue:null,description:"",name:"_css",required:!1,type:{name:"SerializedStyles"}},fs:{defaultValue:null,description:"font-size",name:"fs",required:!1,type:{name:"string"}},ff:{defaultValue:null,description:"font-family",name:"ff",required:!1,type:{name:"string"}},fw:{defaultValue:null,description:"font-weight",name:"fw",required:!1,type:{name:"string"}},cur:{defaultValue:null,description:"",name:"cur",required:!1,type:{name:"string"}},l:{defaultValue:null,description:"",name:"l",required:!1,type:{name:"string | number"}},t:{defaultValue:null,description:"",name:"t",required:!1,type:{name:"string | number"}},r:{defaultValue:null,description:"",name:"r",required:!1,type:{name:"string | number"}},b:{defaultValue:null,description:"",name:"b",required:!1,type:{name:"string | number"}}}}}catch{}const J={title:"DATA DISPLAY/Countdown",component:u},E=e=>f(W,{size:"large",children:f(u,{...e})}),i=E.bind({});i.args={title:"",value:Date.now()+1e3*20,now:Date.now()};var h,w,S;i.parameters={...i.parameters,docs:{...(h=i.parameters)==null?void 0:h.docs,source:{originalSource:`args => {
  return <Space size={"large"}>
      <Countdown {...args} />
    </Space>;
}`,...(S=(w=i.parameters)==null?void 0:w.docs)==null?void 0:S.source}}};const K=["Basic"];export{i as Basic,K as __namedExportsOrder,J as default};
//# sourceMappingURL=countdown.stories-dc6dd814.js.map
